import{d as g,e as K,f as O,w as P,g as W,h as z,c as d,a as t,i as y,v as H,u as o,j as m,F as k,r as $,k as E,l as b,t as f,m as Y,o as u,n as q,p as C}from"./index-d97025fa.js";import S from"./vocabulary-d1ee5e7e.js";const J={class:"px-4 pt-6 2xl:px-0"},Q={class:"border border-gray-200 rounded-lg bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 sm:p-6"},X={class:"items-center justify-between lg:flex"},Z={class:"items-center sm:flex"},G={class:"flex items-center"},ee=["value"],te={class:"ml-2 inline-flex cursor-pointer items-center"},re={key:0,class:"ml-2 inline-flex cursor-pointer items-center"},oe={key:1,class:"ml-2 inline-flex cursor-pointer items-center"},se={key:2,class:"ml-2 inline-flex cursor-pointer items-center"},le={class:"mt-6 flex flex-col"},ae={class:"overflow-x-auto rounded-lg"},ne={class:"inline-block min-w-full align-middle"},de={class:"overflow-hidden shadow sm:rounded-lg"},ue={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600"},ie={class:"bg-white dark:bg-gray-800"},ce={class:"bg-hex-f3f3f3"},fe={colspan:"7",class:"px-4 py-6 text-sm font-normal text-gray-900 dark:bg-gray-500 dark:text-white"},ge={class:"flex flex-row"},pe={class:"flex flex-1 items-center"},be={class:"text-lg"},xe={class:"justify-items-end"},ye={controls:"",class:"chapter"},ke=["src"],he=["id"],me={class:"p-4"},we=["onClick"],ve=["onClick"],_e=["id","onFocusout","onFocusin"],$e={class:"group relative whitespace-nowrap p-4"},Ee={key:0},Ce=["title","href"],Se=["onClick"],Te={style:{"font-style":"italic","font-family":"times"}},Ve={class:"p-4"},Fe={class:"p-4"},Ae={class:"p-4"},Ie={class:"flex items-center justify-between pt-3 sm:pt-6"},Be={key:0},Ne={key:0,class:"flex-shrink-0"},A="vocabulary_chapter",Ue={__name:"index",setup(je){const n=g(!1),w=g(!0),v=g(!0),h=g(!1),T=g(!1),_=g(!1),V=g("");g("");const I=Object.keys(S),i=g(localStorage.getItem(A)||I[0]),B=g(!1),p=K(S);O(()=>{const r=structuredClone(S),e=i.value;return e!==""?{[e]:r[e]}:{}}),P(i,(r,e)=>{localStorage.setItem(A,r)});function N(){let r=0,e=0,s=0;if(n.value){const a=p[i.value];for(const l of a.words)for(const c of l)c.spellValue?c.spellError?r++:s++:e++}return`${e} 个未完成，${s} 个正确，${r} 个错误`}W(()=>{B.value=!0;const r=document.getElementsByTagName("audio");for(const e of r)e.onplay=()=>{for(const s of r)s.blur(),e!==s&&s.pause()}}),z(()=>{for(const r of document.getElementsByTagName("audio"))r.load()}),document.addEventListener("keydown",r=>{if(["ArrowLeft","ArrowRight"," "].includes(r.key)){r.preventDefault();const e=document.getElementsByTagName("audio"),s={ArrowLeft:-5,ArrowRight:5};for(const a of e){if(a.blur(),s[r.key]){const l=s[r.key];a.currentTime=a.currentTime+l}r.key===" "&&(a.paused?a.play():a.pause())}}});let x=null;function F(r){x&&(x.pause(),x.currentTime=0),x=document.createElement("audio"),x.src=r,x.play()}function j(r){const e=`${r.word} ${r.pos} ${r.meaning}`;navigator.clipboard.writeText(e)}function L(r){var a;r.stopPropagation();const{key:e,target:s}=r;e==="Enter"&&((a=document.getElementById((Number(s.id)+1).toString()))==null||a.focus())}function M(r,e){v.value&&F(e)}function U(r,e){const{target:s}=r,a=s.value.toLowerCase().trim();a.length<1?(e.spellValue="",e.spellError=!1):(e.spellValue=a,e.spellError=!e.word.map(l=>l.toLowerCase().trim()).includes(a)),V.value=N()}function R(r){const e={error:"ml-4 bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 inline-block p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500",normal:"ml-4 inline-block border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400",success:"ml-4 bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 inline-block p-2.5 dark:bg-gray-700 dark:border-green-500"};if(T.value){if(r.spellError)return e.error;if(r.spellValue.length>0&&!r.spellError)return e.success}return e.normal}function D(){const r=p[i.value].words,e=[];for(const s of r)for(const a of s)a.spellError&&e.push(`${a.word} ${a.pos} ${a.meaning}`);navigator.clipboard.writeText(e.join(`

`))}return(r,e)=>(u(),d("div",J,[t("div",Q,[t("div",X,[e[15]||(e[15]=t("div",{class:"mb-4 lg:mb-0"},[t("h3",{class:"mb-2 text-xl font-bold text-gray-900 dark:text-white"}," 雅思词汇真经 "),t("span",{class:"text-base font-normal text-gray-500 dark:text-gray-400"},"涵盖雅思必备核心词，逻辑词群记忆法")],-1)),t("div",Z,[t("div",G,[y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>m(i)?i.value=s:null),class:"block w-full flex-1 border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400"},[(u(!0),d(k,null,$(o(p),(s,a)=>(u(),d("option",{key:a,value:a},f(a),9,ee))),128))],512),[[H,o(i)]]),t("label",te,[y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>m(n)?n.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(n)]]),e[7]||(e[7]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[8]||(e[8]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"练习模式",-1))]),o(n)?(u(),d("label",re,[y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>m(w)?w.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(w)]]),e[9]||(e[9]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[10]||(e[10]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"释义",-1))])):b("",!0),o(n)?(u(),d("label",oe,[y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>m(_)?_.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(_)]]),e[11]||(e[11]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[12]||(e[12]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"原词",-1))])):b("",!0),o(n)?(u(),d("label",se,[y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>m(v)?v.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(v)]]),e[13]||(e[13]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[14]||(e[14]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"自动播放",-1))])):b("",!0)])])]),t("div",le,[t("div",ae,[t("div",ne,[t("div",de,[t("table",ue,[e[17]||(e[17]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," # "),t("th",{class:"p-4 text-xs font-medium tracking-wider text-gray-500 dark:text-white"},[t("br")]),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词 "),t("th",{class:"w-0 text-left text-xs font-medium text-gray-500 dark:text-white"}," 词性 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词义 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 例句 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 拓展 ")])],-1)),t("tbody",ie,[t("tr",ce,[t("td",fe,[t("div",ge,[t("div",pe,[t("span",be,f(o(i)),1),Y(" （ "+f(o(p)[o(i)].groupCount)+" 组 "+f(o(p)[o(i)].wordCount)+" 个词 ） ",1)]),t("div",xe,[t("audio",ye,[t("source",{src:`vocabulary/audio/${o(p)[o(i)].audio}`,type:"audio/mpeg"},null,8,ke)])])])])]),(u(!0),d(k,null,$(o(p)[o(i)].words,(s,a)=>(u(),d(k,{key:s.label},[(u(!0),d(k,null,$(s,l=>y((u(),d("tr",{id:`tr_${l.id}`,key:l.id,class:C([{"bg-gray-50 dark:bg-gray-700":l.id%2===0,[`group-color-${a%15}`]:!0},"text-sm text-gray-900 dark:text-white"])},[t("td",me,f(l.id),1),t("td",null,[t("i",{class:"i-ph-speaker-simple-high-bold inline-block cursor-pointer",onClick:c=>F(`vocabulary/audio/${o(i)}/${l.word[0]}.mp3`)},null,8,we),o(n)?(u(),d(k,{key:0},[t("i",{class:C(`${l.showSource?"i-ph-eye-slash-bold":"i-ph-eye-bold"} inline-block cursor-pointer ml-4`),title:"显示原词",onClick:c=>l.showSource=!l.showSource},null,10,ve),t("input",{id:l.id,autocomplete:"off",class:C(R(l)),type:"text",onFocusout:c=>U(c,l),onFocusin:c=>M(c,`vocabulary/audio/${o(i)}/${l.word[0]}.mp3`),onKeydown:L},null,42,_e)],64)):b("",!0)]),t("td",$e,[!o(n)||l.showSource||o(n)&&o(h)&&l.spellError||o(_)?(u(),d("div",Ee,[(u(!0),d(k,null,$(l.word,c=>(u(),d("p",{key:c},[t("a",{class:"hover:underline",title:`在剑桥词典中查询 ${c}`,target:"_blank",href:`https://dictionary.cambridge.org/dictionary/english-chinese-simplified/${c}`},f(c),9,Ce)]))),128)),t("div",{class:"absolute right-0 top-0 hidden h-100% items-center group-hover:flex",onClick:c=>j(l)},e[16]||(e[16]=[t("i",{class:"i-ph-copy block cursor-pointer px-4"},null,-1)]),8,Se)])):b("",!0)]),t("td",Te,f(l.pos),1),t("td",Ve,f(o(w)?l.meaning:""),1),t("td",Fe,f(o(n)?"":l.example),1),t("td",Ae,f(o(n)?"":l.extra),1)],10,he)),[[q,o(n)&&(o(h)?l.spellError:!0)||!o(n)]])),128))],64))),128))])])])])])]),t("div",Ie,[t("div",null,[o(n)?(u(),d("p",Be,f(o(V)),1)):b("",!0)]),o(n)?(u(),d("div",Ne,[t("button",{type:"button",class:"rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[5]||(e[5]=s=>T.value=!0)}," 完成练习 "),t("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[6]||(e[6]=s=>h.value=!o(h))},f(o(h)?"展示所有":"仅展示错词"),1),t("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:D}," 拷贝错词 ")])):b("",!0)])])]))}};export{Ue as default};
